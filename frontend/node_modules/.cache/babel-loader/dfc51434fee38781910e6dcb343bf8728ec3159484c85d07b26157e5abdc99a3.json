{"ast":null,"code":"var _jsxFileName = \"/Users/nikhilkumar/vhelp game/frontend/src/pages/Questions.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { getRandomQuestions } from '../api';\nimport socket from '../socket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Questions() {\n  _s();\n  const {\n    state\n  } = useLocation();\n  const [questions, setQuestions] = useState([]);\n  const [answers, setAnswers] = useState([]);\n  const [current, setCurrent] = useState(0);\n  const [waiting, setWaiting] = useState(false);\n  const [matched, setMatched] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    getRandomQuestions().then(setQuestions);\n    socket.on('match_result', ({\n      matched\n    }) => {\n      setMatched(matched);\n      if (matched) {\n        setTimeout(() => {\n          navigate('/chat', {\n            state: {\n              ...state,\n              opponentSocketId: state.opponent.socketId\n            }\n          });\n        }, 1000);\n      }\n    });\n    return () => {\n      socket.off('match_result');\n    };\n  }, [state, navigate]);\n  const handleAnswer = ans => {\n    const newAnswers = [...answers, ans];\n    setAnswers(newAnswers);\n    if (current === 4) {\n      setWaiting(true);\n      socket.emit('submit_answers', {\n        answers: newAnswers,\n        opponentSocketId: state.opponent.socketId\n      });\n    } else {\n      setCurrent(current + 1);\n    }\n  };\n  if (!questions.length) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading questions...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 33\n  }, this);\n  if (waiting) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Waiting for your opponent...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 23\n  }, this);\n  if (matched === false) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"No compatibility! Try again.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 33\n  }, this);\n  const q = questions[current];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center',\n      marginTop: 100\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: q.question\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleAnswer('A'),\n      children: q.optionA\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleAnswer('B'),\n      style: {\n        marginLeft: 20\n      },\n      children: q.optionB\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Question \", current + 1, \" of 5\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(Questions, \"X8Gg9DxzknfncxLGeoORvSX+0y8=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = Questions;\nvar _c;\n$RefreshReg$(_c, \"Questions\");","map":{"version":3,"names":["React","useEffect","useState","useLocation","useNavigate","getRandomQuestions","socket","jsxDEV","_jsxDEV","Questions","_s","state","questions","setQuestions","answers","setAnswers","current","setCurrent","waiting","setWaiting","matched","setMatched","navigate","then","on","setTimeout","opponentSocketId","opponent","socketId","off","handleAnswer","ans","newAnswers","emit","length","children","fileName","_jsxFileName","lineNumber","columnNumber","q","style","textAlign","marginTop","question","onClick","optionA","marginLeft","optionB","_c","$RefreshReg$"],"sources":["/Users/nikhilkumar/vhelp game/frontend/src/pages/Questions.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { getRandomQuestions } from '../api';\nimport socket from '../socket';\n\nexport default function Questions() {\n  const { state } = useLocation();\n  const [questions, setQuestions] = useState([]);\n  const [answers, setAnswers] = useState([]);\n  const [current, setCurrent] = useState(0);\n  const [waiting, setWaiting] = useState(false);\n  const [matched, setMatched] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    getRandomQuestions().then(setQuestions);\n    socket.on('match_result', ({ matched }) => {\n      setMatched(matched);\n      if (matched) {\n        setTimeout(() => {\n          navigate('/chat', { state: { ...state, opponentSocketId: state.opponent.socketId } });\n        }, 1000);\n      }\n    });\n    return () => {\n      socket.off('match_result');\n    };\n  }, [state, navigate]);\n\n  const handleAnswer = (ans) => {\n    const newAnswers = [...answers, ans];\n    setAnswers(newAnswers);\n    if (current === 4) {\n      setWaiting(true);\n      socket.emit('submit_answers', { answers: newAnswers, opponentSocketId: state.opponent.socketId });\n    } else {\n      setCurrent(current + 1);\n    }\n  };\n\n  if (!questions.length) return <div>Loading questions...</div>;\n  if (waiting) return <div>Waiting for your opponent...</div>;\n  if (matched === false) return <div>No compatibility! Try again.</div>;\n\n  const q = questions[current];\n  return (\n    <div style={{ textAlign: 'center', marginTop: 100 }}>\n      <h2>{q.question}</h2>\n      <button onClick={() => handleAnswer('A')}>{q.optionA}</button>\n      <button onClick={() => handleAnswer('B')} style={{ marginLeft: 20 }}>{q.optionB}</button>\n      <div>Question {current + 1} of 5</div>\n    </div>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}